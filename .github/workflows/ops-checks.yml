name: Repo checks

on:
  push:
  pull_request:

jobs:
  markdown:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: List repo
        run: ls -la

      - name: Basic required files and folders
        run: |
          test -f README.md
          test -d architecture
          test -d lifecycle
          test -d runbooks
          test -d monitoring
          test -d incidents
          test -d governance

      - name: Quick markdown sanity
        run: |
          python - << 'PY'
          import os, sys
          required = ["README.md"]
          for f in required:
            if not os.path.exists(f):
              print("Missing:", f)
              sys.exit(1)
          print("OK")
          PY
